package com.imcs.Tester.assign2;

import com.imcs.customer.assign2.Customer;
import com.imcs.dB.assign2.AccountFileDB;
import com.imcs.general.assign1.ReadData;


public class AccountTester {
	
	public void acceptCustomerInfo()
	{
		System.out.println("\n\n\tPlease enter the details of the customer");
		System.out.print("Customer ID:");
		String custId=ReadData.acceptString();
		System.out.print("Customer Name:");
		String custName=ReadData.acceptString();
		System.out.println("Account Id:");
		String accId=ReadData.acceptString();
		System.out.println("Balance:");
		String balance=ReadData.acceptString();
		
		Customer customer=new Customer();
		customer.setCustomerId(Integer.parseInt(custId));
		customer.setCustomerName(custName);
		customer.setAccountNo(Integer.parseInt(accId));
		customer.setBalance(Double.parseDouble(balance));
		
		int status=new AccountFileDB().saveCustomer(customer);
		
		if(status==0)
		{
			System.out.println("Your Details are saved");
			ReadData.acceptString();
			System.out.println("\n\n\n\n\n\n");
		}
		else
		{
			System.out.println("Your Details cannot be saved try again later");
			ReadData.acceptString();
			System.out.println("\n\n\n\n\n\n");
		}
		
	}
	
	public void displayCustInfo()
	{
		System.out.print("\n\nPlease Enter Customer ID:");
		String custId=ReadData.acceptString();
		Customer customer=new AccountFileDB().getCustomer(Integer.parseInt(custId));
		
		if(customer!=null)
		{
			System.out.println("Customer ID:"+customer.getCustomerId());
			System.out.println("Customer Name:"+customer.getCustomerName());
			System.out.println("Account Number:"+customer.getAccountNo());
			System.out.println("Acccount Balance:"+customer.getBalance());
		}
		
		else
		{
			System.out.println("Invalid CustomerID");
			ReadData.acceptString();
			System.out.println("\n\n\n\n\n\n");
		}
	}
	
	
	public void customerMenu()
	{
		while(true)
		{
			System.out.println();
			System.out.println("\tCustomer Menu");
			
			System.out.println("1. Add Customer");
			System.out.println("2. Get Customer Info");
			System.out.println("3. Exit");
			System.out.print("\n Enter option:");
			String optedValue=ReadData.acceptString();
			int option=Integer.parseInt(optedValue);
			
			
			switch(option)
			{
			case 1: acceptCustomerInfo(); break;
			case 2:displayCustInfo(); break;
			case 3: System.exit(0); break;
			
			default: System.out.println("Enter a Valid Option");
			
			ReadData.acceptString();
			
			}
		}
		
	}
	

}